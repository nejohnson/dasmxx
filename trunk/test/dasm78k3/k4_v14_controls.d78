###############################################################################
#
# Kawai K4 v1.4 ROM disassembly command file
#
# Module: Controls
#
# Neil Johnson
#
###############################################################################

###############################################################################
# Notes
#

###############################################################################
##
## Global Data
##
###############################################################################




###############################################################################
##
## Procedures
##
###############################################################################

n0376
#----------------------------------------------------------
# Function:
#       BTN_Scan_Row
#
#       Scans a single row of buttons
#
# Args:
#       A = P0 bitmask
#       HL = pointer to store scan data
#
# Returns:
#       none
#
# Uses:
#       P0, P1
#
# Notes:
#----------------------------------------------------------
.
p0376 BTN_Scan_Row
k0376 Apply mask to P0
k037a Read back column data
k037c Invert sense so a pressed button is '1'
k037e Save to caller's memory
k037f Disable button scanning

#----------------------------------------------------------


